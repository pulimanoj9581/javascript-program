<!DOCTYPE html>
<html>
<head>
<title>JS-EMPLOYEE-DETAILS</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body>
<h1>Employee Information</h1>
<table>
        <form>
            <tr>
                <td>
                    <fieldset>
                        <table id="Add Employees">
                            <tr>
                                <th colspan="2" id="title">Add Employees</th>
                            </tr>
                            <tr>
                                <td>First name</td>
                                <td><input type="text" id="first_name" name="first_name"/></td>
                            </tr>
                            <tr>
                                <td>Last name</td>
                                <td><input type="text" id="last_name" name="last_name"/></td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td><input type="text" id="email" name="email"/></td>
                            </tr>
                            <tr>
                                <td>JOB</td>
                                <td><input type="text" id="hire" name="hire"/></td>
                            </tr>
                            <tr>
                                <td>Salary</td>
                                <td><input type="text" id="salary" name="salary" calculate="Sum"/></td>
                            </tr>
                            <tr>
                                <td>
                                    <input type="button" id="submit" name="submit" value="Addemployee" onclick="addRecord()" /></td>
                                    <td id="error_msg"></td>
                                </tr>
                            </table>
                        </fieldset>
                    </td>
                    <td valign="top" width="100%">
                        <fieldset>
                            <table id="employee_table" border="1" cellpadding="5px" style="border-collapse:collapse" width="100%">
                                <tr>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Email</th>
                                    <th>JOB</th>
                                    <th>Salary</th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <td colspan="4" id="price">Total</td> 
                                    <td id="total"></td>
                                </tr>
                            </table>
                        </fieldset>
                    </td>
                </tr> 
            </form>
        </table>
    </body>
    <Script>
        var selectedRow=null;
        var totalSalaries = 0;
        function addRecord() {
            let fName = document.getElementById("first_name").value;
            let lName = document.getElementById("last_name");
            let email = document.getElementById("email");
            let hireDate = document.getElementById("hire");
            let salary = document.getElementById("salary");
            let submit_btn = document.getElementById("submit");
            let table = document.getElementById("employee_table");
            let error_msg = document.getElementById("error_msg");
            let total = document.getElementById("price");
            let row;
            let cell1;
            let cell2;
            let cell3;
            let cell4;
            let cell5;
            let cell6;
            let cell7;
            row = table.insertRow(1);
            cell1 = row.insertCell(0);
            cell2 = row.insertCell(1);
            cell3 = row.insertCell(2);
            cell4 = row.insertCell(3);
            cell5 = row.insertCell(4);
            cell6 = row.insertCell(5);
            cell7 = row.insertCell(6);
            cell1.innerHTML = fName;
            cell2.innerHTML = lName.value;
            cell3.innerHTML = email.value;
            cell4.innerHTML = hire.value;
            cell5.innerHTML = salary.value;
            cell6.innerHTML = `<input type='button' class='edit' value='Edit employee' onclick='editbutton(this)'/>`;
            cell7.innerHTML = `<input type='button' value='Delete user' onclick='deleteRecord(this)'/>`;
            let newSalary = JSON.parse(salary.value)
            totalSalaries = totalSalaries + newSalary
            document.getElementById("total").innerHTML = totalSalaries
            clear()
        }
        function clear(){
            let fName = document.getElementById("first_name");
            first_name.value = "";
            let lName = document.getElementById("last_name");
            last_name.value = "";
            let email = document.getElementById("email");
            email.value = "";
            let hireDate = document.getElementById("hire");
            hire.value = "";
            let salary = document.getElementById("salary");
            salary.value = "";
            let submit_btn = document.getElementById("submit");
            let table = document.getElementById("employee_table");
            let error_msg = document.getElementById("error_msg");
            let total = document.getElementById("price"); 
        }
        function deleteRecord(button) {
            var table = document.getElementById("employee_table");
            var row = button.parentNode.parentNode;
            table.deleteRow(row.rowIndex);
            document.getElementById("total").innerHTML="";
        }
             function idna5(el){
	         alert($(el).closest('tr').index());
         }
        function editbutton(val)
        {
           var selected_row_index = $(val).closest('tr').index()
            //console.log("myno",)
            document.getElementById("first_name").value = document.getElementById("employee_table").rows[selected_row_index].cells.item(0).innerHTML;
            document.getElementById("last_name").value = document.getElementById("employee_table").rows[selected_row_index].cells.item(1).innerHTML;
            document.getElementById("email").value = document.getElementById("employee_table").rows[selected_row_index].cells.item(2).innerHTML;
            document.getElementById("hire").value = document.getElementById("employee_table").rows[selected_row_index].cells.item(3).innerHTML;
            document.getElementById("salary").value = document.getElementById("employee_table").rows[selected_row_index].cells.item(4).innerHTML;
            document.getElementById("submit").value = 'Update employee'
            document.getElementById("title").innerHTML = "Update employee"
            var table = document.getElementById("employee_table");
            var row = val.parentNode.parentNode;
            table.deleteRow(row.rowIndex);
        }
        $(document).on('click','edit', function(){
        $(this).parent().siblings('td.data').each(function(){    
        })
        })
</Script>
</html>